<html ng-app="myApp" class="no-js">
	<head>
		<title>SimpleChat</title>

		<meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">

		<!-- favicon -->
		<link rel='shortcut icon' href='favicon.ico' type='image/x-icon'/>

		<!-- Ze jQuery -->
		<script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
		<script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>

		<!-- Latest compiled and minified CSS -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">

		<!-- Optional theme -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css">

		<!-- Overwrite Bootstrap 3 modal CSS -->
		<link rel="stylesheet" href="styles/modal.css">
		<!-- Chat CSS -->
		<link rel="stylesheet" href="styles/chat.css">
		<!-- Scroll CSS -->
		<link rel="stylesheet" href="styles/scroll.css">
		<!-- Material Design CSS -->
		<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/angular_material/0.7.1/angular-material.min.css">
		<!-- Overwrite MD CSS -->
		<link rel="stylesheet" href="styles/md-custom.css">

		<!-- Latest compiled and minified JavaScript -->
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
		
		<!-- Angular version 1.3.6 -->
		<script src='https://ajax.googleapis.com/ajax/libs/angularjs/1.3.6/angular.min.js'></script>
		<script src='https://cdn.firebase.com/js/client/1.0.15/firebase.js'></script>
		<script src='https://cdn.firebase.com/libs/angularfire/0.8.0/angularfire.min.js'></script>

		<!-- Scrollglue -->
		<script src="https://cdn.rawgit.com/Luegg/angularjs-scroll-glue/v2.0.2/src/scrollglue.js"></script>
	</head>
	<body ng-controller="RoomController">
		<md-content>
			<!-- Tab Container -->
			<md-tabs md-selected="selectedIndex">
				<!-- Individual Tab -->
				<md-tab ng-repeat="room in roomList"
						ng-disabled="room.disabled" 
						label="{{room.roomName}}">

					<!-- Made div within each tab to attach chat controller -->
					<!-- Attaching chat controller to the md-tab made module conflict errors -->
					<div ng-controller="ChatController">

						<!-- Display messages -->
						<div scroll-glue>
							<md-list>
								<md-item ng-repeat="msg in messages">
									<md-item-content>
										<div class="md-tile-content">
											<!-- <h3><strong>{{msg.from}}</strong></h3>
											<h4>{{msg.body}}</h4> -->
											<!-- <div layout="column" layout-fill>
												<md-whiteframe class="md-whiteframe-z3" layout>
													<span><strong>{{msg.from}}</strong><br>{{msg.body}}</span>
												</md-whiteframe>
											</div> -->
											<div class="bubble">
												<strong>{{msg.from}}</strong><br>
												{{msg.body}}
											</div>
										</div>
									</md-item-content>
								</md-item>
							</md-list>
						</div>

						<div layout="row" layout-margin>
							<div flex="33">
								<!-- Assign username -->
								<md-input-container>
									<label for="nameInput">Username</label>
									<input ng-model="name" type="text" id="nameInput" placeholder="Enter a username...">
								</md-input-container>
							</div>

							<div flex="60">
								<!-- Post a message -->
								<md-input-container flex>
									<label>Message</label>
									<textarea class="form-control" 
											  ng-model="msg"
											  ng-keydown="addMessage($event)" 
											  id="messageInput"
											  placeholder="Type a message...">
									</textarea>
								</md-input-container>
							</div>
						</div><!--/username and message layout -->
					</div><!--/ChatController-->
				</md-tab>
			</md-tabs>
			<div layout="row" layout-wrap layout-margin layout-padding>
				<!-- Click to send message -->
				<div flex>
					<md-button class="md-raised md-primary" ng-click="sendMessage()">Send</md-button>
				</div>
				<!-- Modal to add or join room -->
				<div flex class="text-center" ng-controller="ModalController">
					<md-button class="md-raised md-primary" ng-click="open()">Add or Join Room</md-button>
				</div>
				<!-- Opens helper -->
				<div flex ng-controller="HelpController">
					<md-button class="pull-right" ng-click="open()" ng-href="">Need help?</md-button>
				</div>
			</div>
		</md-content><!--/md-content-->

		<!-- ui-router -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.2.10/angular-ui-router.min.js"></script>

		<!-- angular-ui -->
		<script src="js/ui-bootstrap-tpls-0.11.0.min.js"></script>

		<!-- Angular Material Dependencies -->
		<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.6/angular-animate.min.js"></script>
		<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.6/angular-aria.min.js"></script>

		<!-- Angular Material Javascript -->
		<script src="//ajax.googleapis.com/ajax/libs/angular_material/0.7.1/angular-material.min.js"></script>

		<!-- my AngularJS files -->

		<!-- app configuration -->
		<script src="scripts/app.js"></script>

		<!-- controllers -->
		<script src="scripts/controllers/chat.js"></script>
		<script src="scripts/controllers/room.js"></script>
		<script src="scripts/controllers/modal.js"></script>
		<script src="scripts/controllers/modalinstance.js"></script>
		<script src="scripts/controllers/help.js"></script>

		<!-- services -->
		<script src="scripts/services/chatfactory.js"></script>
		<script src="scripts/services/sharefactory.js"></script>
		<script src="scripts/services/hashsetfactory.js"></script>
	</body>
</html>